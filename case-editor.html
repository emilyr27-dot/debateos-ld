<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DebateOS â€“ Case Editor</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<h1 id="doc-title">Case Editor</h1>

<button onclick="toggleComments()">ðŸ—¨ Toggle Comments</button>

<div class="editor-layout">

  <!-- =====================
       MAIN DOCUMENT
  ====================== -->
  <div class="editor-main">

    <!-- CASE INFO -->
    <div class="card">
      <h3>Case Info</h3>

      <label>Title</label>
      <input id="editor-title" placeholder="Case title" />
      <button onclick="openCommentEditor('title')">ðŸ’¬ Comment</button>

      <label>Folder</label>
      <input id="editor-folder" placeholder="Folder" />
      <button onclick="openCommentEditor('folder')">ðŸ’¬ Comment</button>

      <label>Side</label>
      <select id="editor-side">
        <option value="Aff">Aff</option>
        <option value="Neg">Neg</option>
      </select>
      <button onclick="openCommentEditor('side')">ðŸ’¬ Comment</button>
    </div>

    <!-- FRAMEWORK -->
    <div class="card">
      <h3>Framework</h3>

      <label>Value</label>
      <input id="editor-value" placeholder="Value" />
      <button onclick="openCommentEditor('value')">ðŸ’¬ Comment</button>

      <label>Criterion</label>
      <input id="editor-criterion" placeholder="Criterion" />
      <button onclick="openCommentEditor('criterion')">ðŸ’¬ Comment</button>
    </div>

    <!-- TOPCASE -->
    <div class="card">
      <h3>Topcase</h3>

      <label>Intro</label>
      <textarea id="editor-intro" rows="4"></textarea>
      <button onclick="openCommentEditor('intro')">ðŸ’¬ Comment</button>

      <label>Resolutional Analysis</label>
      <textarea id="editor-res-analysis" rows="4"></textarea>
      <button onclick="openCommentEditor('resolutionalAnalysis')">ðŸ’¬ Comment</button>

      <label>Offcase Arguments</label>
      <textarea id="editor-offcase" rows="4"></textarea>
      <button onclick="openCommentEditor('offcaseArguments')">ðŸ’¬ Comment</button>
    </div>

    <!-- CONTENTIONS -->
    <div class="card">
      <h3>Contentions</h3>
      <div id="contentions"></div>
      <button onclick="addContention()">+ Add Contention</button>
    </div>

    <!-- ACTIONS -->
    <div class="card">
      <button onclick="saveCase()">Save</button>
      <button onclick="saveAndReturnToDashboard()">Save & Return to Dashboard</button>
      <button onclick="goBack()">Back to Cases</button>
    </div>

  </div>

  <!-- =====================
       COMMENTS SIDEBAR
  ====================== -->
  <div id="comments-panel" class="editor-sidebar card">
    <h3>Comments</h3>
    <div id="comments-list"></div>
  </div>

</div>

<!-- =====================
     INLINE COMMENT EDITOR
====================== -->
<div id="comment-editor" class="card" style="display:none; max-width: 400px;">
  <h4>New Comment</h4>
  <textarea id="comment-draft" rows="4" placeholder="Write your comment..."></textarea>
  <div style="margin-top: 8px;">
    <button onclick="saveComment()">Save</button>
    <button onclick="closeCommentEditor()">Cancel</button>
  </div>
</div>

<script src="app.js"></script>
<script src="case-editor.js"></script>

</body>
</html>
